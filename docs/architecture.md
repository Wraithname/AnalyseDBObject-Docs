# Компонентная архитектура

## Обоснование выбора архитектурного стиля

Микросервисная архитектура является эффективным подходом для разработки приложений, которые должны масштабироваться и быть гибкими в изменении. В случае приложения для анализа объектов БД, микросервисная архитектура может предоставить следующие преимущества:

- Гибкость: Микросервисы могут быть разработаны и развернуты независимо друг от друга, что позволяет быстро вносить изменения в приложение без необходимости перезапуска всего приложения.

- Масштабируемость: Микросервисы могут быть масштабированы отдельно друг от друга, что позволяет легко управлять нагрузкой на приложение и обеспечивать высокую доступность.

- Устойчивость: Если один из микросервисов не работает, остальные микросервисы могут продолжать работу, что обеспечивает устойчивость приложения в целом.

- Легкость разработки: Разработчики могут работать над отдельными микросервисами, что упрощает процесс разработки и тестирования.

- Легкость внедрения новых функций: Новые функции могут быть добавлены в виде новых микросервисов, что позволяет быстро внедрять новые возможности в приложение.

## Диаграммы компонентов

На диаграмме представлены компоненты микросервисной архитектуры системы и интеграции между данными компонентами.

### Общая структура системы

![](diagrams/out/C4all.svg)

### Описание компонентов

| № п/п | Тип             | Наименование                                                               | Технологии     | Описание                                                                                                    |
| ----- | --------------- | -------------------------------------------------------------------------- | -------------- | ----------------------------------------------------------------------------------------------------------- |
| 1     | Container       | Компонент работы с базами данных                                           | Spring Service | Работа пользователей по осуществелнию миграции объектов БД                                                  |
| 2     | Container       | БД Источник                                                                | PostgreSQL     | Хранение данных по объектам БД и процессу миграции                                                          |
| 3     | Container       | БД Миграции                                                                | PostgreSQL     | Хранение данных по новым объектам БД в процессе миграции                                                    |
| 4     | Container       | Компонент-хранилище информации о проектах, модулях и пользователях         | Spring Service | Управление списком проектов и модулей, а также привязка пользователей к модулям, за которые они отвечают    |
| 5     | Container       | БД Списка модулей и пользователей                                          | PostgreSQL     | Хранение данных списка проектов, модулей и привязанных пользоватеней к модулю                               |
| 6     | Container       | Компонент расчёта данных                                                   | Spring Service | Расчёт статистических данных объектов БД в разрезе проектов и модулей                                       |
| 7     | Container       | БД списка модулей и расчётов                                               | PostgreSQL     | Хранение результатов расчёта статистики объектов БД с использованным списком проектов и модулей             |
| 8     | External system | API Gateway                                                                |                | Шлюз взаимодействия сервисов                                                                                |
| 9     | External system | JIRA                                                                       |                | Система управления проектами и задачами                                                                     |
| 10    | External system | RabbitMQ                                                                   |                | Система взаимодействия сервисом для передачи данных                                                         |

### Стуктура сервиса расчёта статистики по процессу миграции

![](diagrams/out/SergoC4.svg)

### Описание компонентов

| № п/п | Тип             | Наименование                                                               | Технологии     | Описание                                                                                                    |
| ----- | --------------- | -------------------------------------------------------------------------- | -------------- | ----------------------------------------------------------------------------------------------------------- |
| 1     | Container       | Компонент работы с базами данных                                           | Spring Service | Работа пользователей по осуществелнию миграции объектов БД                                                  |
| 2     | Container       | БД Источник                                                                | PostgreSQL     | Хранение данных по объектам БД и процессу миграции                                                          |
| 3     | Container       | БД Миграции                                                                | PostgreSQL     | Хранение данных по новым объектам БД в процессе миграции                                                    |
| 4     | Container       | Компонент-хранилище информации о проектах, модулях и пользователях         | Spring Service | Управление списком проектов и модулей, а также привязка пользователей к модулям, за которые они отвечают    |
| 5     | Container       | БД Списка модулей и пользователей                                          | PostgreSQL     | Хранение данных списка проектов, модулей и привязанных пользоватеней к модулю                               |
| 6     | Container       | Компонент расчёта данных                                                   | Spring Service | Расчёт статистических данных объектов БД в разрезе проектов и модулей                                       |
| 7     | Container       | БД списка модулей и расчётов                                               | PostgreSQL     | Хранение результатов расчёта статистики объектов БД с использованным списком проектов и модулей             |
| 8     | External system | API Gateway                                                                |                | Шлюз взаимодействия сервисов                                                                                |
| 9     | External system | JIRA                                                                       |                | Система управления проектами и задачами                                                                     |
| 10    | External system | RabbitMQ                                                                   |                | Система взаимодействия сервисом для передачи данных                                                         |

### Стуктура сервиса получения данных по процессу миграции объектов БД

![](diagrams/out/architecture1.svg)

### Описание компонентов

| № п/п | Тип             | Наименование                                                               | Технологии     | Описание                                                                                                    |
| ----- | --------------- | -------------------------------------------------------------------------- | -------------- | ----------------------------------------------------------------------------------------------------------- |
| 1     | Container       | Компонент работы с базами данных                                           | Spring Service | Работа пользователей по осуществелнию миграции объектов БД                                                  |
| 2     | Container       | БД Источник                                                                | PostgreSQL     | Хранение данных по объектам БД и процессу миграции                                                          |
| 3     | Container       | БД Миграции                                                                | PostgreSQL     | Хранение данных по новым объектам БД в процессе миграции                                                    |
| 4     | Container       | Компонент-хранилище информации о проектах, модулях и пользователях         | Spring Service | Управление списком проектов и модулей, а также привязка пользователей к модулям, за которые они отвечают    |
| 5     | Container       | БД Списка модулей и пользователей                                          | PostgreSQL     | Хранение данных списка проектов, модулей и привязанных пользоватеней к модулю                               |
| 6     | Container       | Компонент расчёта данных                                                   | Spring Service | Расчёт статистических данных объектов БД в разрезе проектов и модулей                                       |
| 7     | Container       | БД списка модулей и расчётов                                               | PostgreSQL     | Хранение результатов расчёта статистики объектов БД с использованным списком проектов и модулей             |
| 8     | External system | API Gateway                                                                |                | Шлюз взаимодействия сервисов                                                                                |
| 9     | External system | JIRA                                                                       |                | Система управления проектами и задачами                                                                     |
| 10    | External system | RabbitMQ                                                                   |                | Система взаимодействия сервисом для передачи данных                                                         |

### Стуктура сервиса получения данных по процессу миграции Jar

![](diagrams/out/RusC4.svg)

### Описание компонентов

| № п/п | Тип             | Наименование                                                               | Технологии     | Описание                                                                                                    |
| ----- | --------------- | -------------------------------------------------------------------------- | -------------- | ----------------------------------------------------------------------------------------------------------- |
| 1     | Container       | Компонент работы с базами данных                                           | Spring Service | Работа пользователей по осуществелнию миграции объектов БД                                                  |
| 2     | Container       | БД Источник                                                                | PostgreSQL     | Хранение данных по объектам БД и процессу миграции                                                          |
| 3     | Container       | БД Миграции                                                                | PostgreSQL     | Хранение данных по новым объектам БД в процессе миграции                                                    |
| 4     | Container       | Компонент-хранилище информации о проектах, модулях и пользователях         | Spring Service | Управление списком проектов и модулей, а также привязка пользователей к модулям, за которые они отвечают    |
| 5     | Container       | БД Списка модулей и пользователей                                          | PostgreSQL     | Хранение данных списка проектов, модулей и привязанных пользоватеней к модулю                               |
| 6     | Container       | Компонент расчёта данных                                                   | Spring Service | Расчёт статистических данных объектов БД в разрезе проектов и модулей                                       |
| 7     | Container       | БД списка модулей и расчётов                                               | PostgreSQL     | Хранение результатов расчёта статистики объектов БД с использованным списком проектов и модулей             |
| 8     | External system | API Gateway                                                                |                | Шлюз взаимодействия сервисов                                                                                |
| 9     | External system | JIRA                                                                       |                | Система управления проектами и задачами                                                                     |
| 10    | External system | RabbitMQ                                                                   |                | Система взаимодействия сервисом для передачи данных                                                         |