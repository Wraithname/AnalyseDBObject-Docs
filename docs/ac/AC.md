# Acceptance Criteria, Definition of Ready & Definition of Done

## Definition of Ready & Definition of Done

![](\diagrams\DoR.svg)

## Критерии приёмки для UserStory

### **`US 01`** Я как руководитель ХОЧУ видеть актуальный список проектов и модулей ЧТОБЫ для быстрой навигации по интересующим проектам и модулям
1. На главной форме приложения отображены: 
    - объекты БД в привязке к проекту и модулю (см. критерий 2)
    - навигационная панель по проектам и модулям (см. критерий 4)
2. Один объект БД привязан к одному проекту
3. Ручная перестройка списка происходит путем нажатия кнопки "Обновить структуру проектов и модулей"
4. Навигация осуществляется:
    - По проекту (см. критерий 5)
    - По модулю (см. критерий 5)
    - По проекту и модулю (см. критерий 5)
5. Навигация происходит путём выбора значения из выпадающего списка.

### **`US 02`** Я как руководитель ХОЧУ использовать фильтры ЧТОБЫ быстро найти то что мне нужно
1. Активация функции "Фильтр" происходит путем нажатия на кнопку "Фильтр" на панели инструментов так и через клавишу F7
2. Форма фильтра состоит из полей таблицы с основной формы
3. Для элементов таблицы с фиксированным набором элементов должен быть осуществлен выбор из фиксированного списка значений
4. Фильтрация должна позволять ввод SQL-кода условий в полях
5. Выполнение фильтра происходит путем нажатия кнопки "Ок" так и через клавишу F8

### **`US 03`** Я как руководитель ХОЧУ сохранять используемый фильтр ЧТОБЫ сократить время на заполнение необходимых полей в фильтре
1. Активация функции "Сохранить фильтр" происходит путем нажатия на кнопку "Сохранить фильтр" на панели инструментов
2. Активация функции "Загрузить фильтр" происходит путем нажатия на кнопку "Загрузить фильтр" с последующем применением на таблицу главной формы
3. Существует форма по настройке сохраненных фильтров
4. Активация функции "Удалить фильтр" происходит по следующему сценарию:
    - Перейти на форму настройки фильтров
    - Выбрать фильтр для удаления
    - Нажать кнопку "Удалить"
    - Подтвердить действие по удалению

### **`US 04`** Я как руководитель ХОЧУ видеть ответственных за проект и модуль ЧТОБЫ понимать, к кому обращаться по вопросам миграции по проекту/модулю
1. Просмотр ответственных сотрудников за перевод проектов и модулей осуществляется через переход на форму "Проекты и модули" по кнопке в панели инструментов главной формы
2. В форме присутствует функционал по запросу актуального списка проектов и модулей
3. На форме по выбору проекта в левой части - появляется список сотрудников в правой части, которые подключены к этому проекту
4. На форме по выбору проекта и модуля - список из п.3 сужается до привязанных к модулю.
5. Функционал по фильтрации соответствует критериям [US 02](../ac/AC.md#L20) 

### **`US 05`** Я как руководитель ХОЧУ иметь возможность по одной кнопке создать задачи на миграцию серверной части проекта/модуля ЧТОБЫ сократить время на ручные операции
- Создание задачи на миграцию происходит по следующему сценарию:
    1. Открытие формы заведения задачи на миграцию путем нажатия кнопки на панели инструментов главной формы "Создать задачу" осуществляется для выбранного объекта БД в таблице
    2. Если объект БД не имеет привязку к проекту или проекту и модулю, то вывести сообщение о невозможности создания таких задач
    3. После нажатия кнопки "Создать задачу" открывается окно с пред заполненными полями:
        1) Название проекта - редактирование запрещено
        2) Названия модуля (если есть) - редактирование запрещено
        3) Названия объекта БД - редактирование запрещено
        4) Тип объекта БД - редактирование запрещено
        5) Комментарий к задаче
        6) Исполнитель задачи - выбор из фиксируемого списка значений, обязательное поле
    4. По нажатию кнопки "Ок" происходит валидация полей для редактирования
    5. Успешное создание задачи сопровождается сообщение с номером задачи
    6. Вывод ошибки сопровождается кодом ошибки и трассировкой 

### **`US 06`** Я как руководитель ХОЧУ иметь возможность отправлять созданные задачи в Jira ЧТОБЫ фиксировать процесс миграции в одном месте
1. При заведении задачи происходит поиск ссылки на проект в Jira
2. Выведено сообщение по созданию задачи в Jira
3. Заполненные поля (см. [US 05](../AC.md#L44) ) преобразованы в xml согласно API Jira
4. При успешной передаче данных и создании задачи в Jira выводится сообщение с ссылкой на эту задачу

### **`US 07`** Я как руководитель ХОЧУ посмотреть отчёт по миграции серверной части ЧТОБЫ оценить прогресс процесса миграции
1. Запуск формы отчётов происходит по нажатию кнопки "Альтернативная печать" в панели инструментов главной формы
2. Указание места сохранения и название файла задаётся пользователем путем выбора.
3. При построении отчёта учитывается параметр "Сформировать на:" с выбранной датой и временем
4. Перед построением отчёта запускается процесса сбора текущих показателей по объектам БД (см. [US 09](../ac/AC.md#L81))
5. Вывод отчёта осуществляется по выбору пользователя:
    - Показать на экране
    - Сохранить на компьютере и открыть (см. критерий 3)
    - Распечатать на принтере
6. Время запуска процедуры построения отчёта до вывода отчёта на экран должно занимать не больше 1 минуты

### **`US 08`** Я как руководитель ХОЧУ фиксировать в отчёте необходимые в текущий момент проекты и модули ЧТОБЫ оперативно оценить прогресс миграции на конкретных проектах и модулях
1. В форме настройки отчёта присутствует выбор проектов и модулей
2. В функционале выбора присутствует опция "Выбрать всё"
3. Быстродействие выполнения процедуры построения отчёта не должна превышать установленному значению для общего отчёта (см. критерий 6 [US 07](../ac/AC.md#L75))

### **`US 09`** Я как руководитель ХОЧУ запустить процесс анализа всех серверных объектов ЧТОБЫ получать актуальную информацию по процессу миграции серверных объектов
1. Запуск процесса анализа серверных объектов осуществляется по кнопке в панели инструментов главной формы "Проанализировать объекты"
2. Процесс анализа должен учитывать объекты БД Oracle и объекты БД Postgres
3. После выполнения процедуры анализа результаты должны быть сохранены с указание даты и времени выполнения

### **`US 10`** Я как руководитель ХОЧУ запустить процесс анализа указанных проектов и модулей ЧТОБЫ получать необходимую актуальную информацию по миграции проектов и модулей
1. После нажатия кнопки "Проанализировать объекты" (см. критерий 1 [US 09](../ac/AC.md#L83)) выводится форма настройки анализа
2. На форме настройки анализа присутствует выбор проектов и модулей
3. На форме настройки анализа присутствует функционал выбора всех проектов и модулей

### **`US 11`** Я как руководитель ХОЧУ установить периодичность выполнения анализа серверных объектов ЧТОБЫ получать актуальные данные без моего участия
1. Настройка периодичности выполнения анализа серверных объектов происходит путем перехода на форму настройки по нажатию на кнопку "Открыть форму настройки периодичности анализа"
2. На форме настройки присутствуют поля для точной настройки периодичности:
    - Каждый указанный час
    - Раз в указанные дни
    - Каждую указанную неделю
3. Указанная периодичность выполняется для анализа всех объектов БД

### **`US 12`** Я как пользователь ХОЧУ видеть зависимости серверного объекта от других объектов, если такие имеются ЧТОБЫ видеть какие объекты использует выбранные объект миграции
1. На главной форме расположены дополнительные таблицы под вывод зависящих и зависимых объектов от выбранного в главной таблице
2. Данные в дополнительных таблицах обновляются для выбранного объекта

### **`US 13`** Я как пользователь ХОЧУ видеть статусы перевода зависимых серверных объектов ЧТОБЫ принимать решение по целесообразности брать в работу по миграции данный объект
1. В дополнительных таблицах присутствует статус зависимых объектов
2. Если в зависимых объектах присутствует хотя бы один в статусе отличного от "Выполнено", то установка статуса "В работе" невозможна

### **`US 14`** Я как пользователь ХОЧУ произвести миграцию таблицы базы данных по одной кнопке ЧТОБЫ сократить время миграции и сконцентрироваться на других объектах БД проекта
1. Миграция таблицы осуществляется путем нажатия кнопки "Воссоздать таблицу в новой базе данных"
2. Функционал по миграции таблицы доступен только для объектов с типом "TABEL", для остальных данная функция недоступна
3. Данные попадают в таблицу в полном объём с конвертацией в нужный тип

### **`US 15`** Я как пользователь ХОЧУ иметь возможность пред установить типы данных колонок таблиц ЧТОБЫ сократить время на ручные операции при конвертации таблицы и сохранить консистентность данных
1. Выполняются все критерии для [US 14](../ac/AC.md#L108)
2. Перед выполнением миграции выводится сообщение с предложением поменять тип колонок в итоговой таблице для миграции
3. Выбор типа колонки выполняется по выбору из фиксированного списка типов колонок БД
4. Предустанавливается возможный тип колонок для мигрируемой таблицы

### **`US 16`** Я как пользователь ХОЧУ сменить статус выполнения миграции объекта БД ЧТОБЫ показать, что работы по миграции объекта БД завершены
1. Все статусы выбираются из фиксированного списка:
    - "Готово для миграции"
    - "Не готово для миграции"
    - "Исключить из миграции"
    - "В работе"
    - "Переведено"
    - "Тестируется"
    - "Возврат на доработку"
    - "Выполнено"
2. Определённый набор статусов доступен для использования по уровням доступа:
    1) Разработчик:
        - "В работе"
        - "Переведено"
    2) Тестировщик:
        - "Тестируется"
        - "Выполнено"
        - "Возврат на доработку"
    3) Руководитель:
        - "Исключить из миграции"
        - "Выполнено"
        - "Возврат на доработку"
3. Автоматическая установка статусов "Готово для миграции" и "Не готово для миграции" выполняется при условии что все зависящие объекты БД находятся в статусе "Выполнено"
4. Смена статусов происходит по следующим правилам:
    - "Не готово для миграции"\"Исключить из миграции" - запрет смены статуса
    - "В работе"->"Переведено"->"Тестируется"->"Выполнено"
    - "В работе"->"Переведено"->"Тестируется"->"Возврат на доработку"

### **`US 17`** Я как пользователь ХОЧУ функционал автоматической смены статуса задачи в Jira ЧТОБЫ сократить время на ручные операции
1. После смены статуса объекта выводится сообщение с предложением отправить статус в Jira

### **`US 18`** Я как пользователь ХОЧУ видеть историю изменения объекта БД ЧТОБЫ оперативно решить выявленные ошибки
1. Вызов аудита по объектам БД осуществляется через кнопку на панели инструментов, при выбранном объекте БД.
2. Фиксация изменений происходит путём проверки последнего изменения и версии объекта БД
3. Фиксация изменений происходит автоматически
4. Изменения фиксируются только для объекта, который находится в БД Миграции

### **`US 19`** Я как пользователь ХОЧУ вести журнал работ из системы ЧТОБЫ вести задачи в едином формате и едином месте
1. Вызов формы журнала работ выполняется по выбранному объекту БД путем нажатия на кнопку "Открыть журнал работ" на панели инструментов главной формы системы.
2. В форме "Журнал работ" отображены работы по объекту в разрезе времени.
3. Форма "Журнал работ" поддерживает функционал добавления\изменения\удаления
4. На форме добавления\изменения содержатся следующие поля:
    - Комментарий
    - Затраченное время
5. При любых манипуляциях с журналом работ происходит синхронизация с журналом по задаче в Jira